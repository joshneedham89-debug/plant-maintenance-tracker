<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Plant Maintenance Tracker</title>

  <link rel="manifest" href="manifest.json"/>
  <meta name="theme-color" content="#0f1724"/>

  <link rel="stylesheet" href="style.css"/>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js');
      });
    }
  </script>
</head>
<body>

<!-- ‚ñë‚ñë‚ñë FIXED HEADER ‚ñë‚ñë‚ñë -->
<header class="header">
  <div class="header-left">
    <img src="icons/icon-192.png" class="app-logo" alt="logo"/>
    <div class="header-title">
      <div class="title-main">Plant Maintenance Tracker</div>
      <div class="title-sub">Tons ¬∑ Parts ¬∑ Inventory</div>
    </div>
  </div>
  <button id="settingsBtn" class="settings-btn">‚öôÔ∏è</button>
</header>

<main id="main">

  <!-- ‚ñë‚ñë‚ñë PAGE: DASHBOARD ‚ñë‚ñë‚ñë -->
  <section id="page-dashboard" class="page active">

    <div class="card-grid">

      <div class="card stat-card">
        <label>Total Parts</label>
        <span id="statTotalParts">0</span>
      </div>

      <div class="card stat-card">
        <label>Overdue</label>
        <span id="statOverdue">0</span>
      </div>

    </div>

    <div class="card-grid">

      <div class="card stat-card">
        <label>Tons Run</label>
        <span id="statTons">0</span>
      </div>

      <div class="card stat-card">
        <label>Next Due</label>
        <span id="statNextDue">‚Äî</span>
      </div>

    </div>

    <!-- Tons Panel -->
    <div class="card tons-card">
      <h3>Update Tons</h3>
      <div class="tons-row">
        <input id="inputTons" type="number" placeholder="Enter current tons‚Ä¶"/>
        <button id="btnUpdateTons">Update</button>
      </div>

      <div class="tons-chips">
        <button class="chip" id="btnAdd100">+100</button>
        <button class="chip" id="btnAdd500">+500</button>
        <button class="chip" id="btnAdd1000">+1000</button>
      </div>
    </div>

    <div class="card">
      <h3>Quick Actions</h3>
      <div class="qa-row">
        <button id="dashAddPart" class="primary-btn">+ Add Part</button>
        <button id="dashInventory" class="primary-btn">Inventory</button>
      </div>
    </div>

    <div class="card">
      <h3>Next Maintenance</h3>
      <p id="dashboardNextText" class="muted">Add parts to see next due maintenance.</p>
    </div>

  </section>

  <!-- ‚ñë‚ñë‚ñë PAGE: PARTS ‚ñë‚ñë‚ñë -->
  <section id="page-parts" class="page">

    <div class="page-top">
      <h2>Parts</h2>
      <button id="btnAddPart" class="primary-btn">+ Add Part</button>
    </div>

    <div class="filter-row">
      <select id="partsCategoryFilter"></select>
    </div>

    <div class="summary-row">
      <span id="sumOk">üü¢ OK: 0</span>
      <span id="sumDue">üü° Due: 0</span>
      <span id="sumOver">üî¥ Overdue: 0</span>
    </div>

    <div id="partsList" class="parts-list"></div>

  </section>

  <!-- ‚ñë‚ñë‚ñë PAGE: INVENTORY (B Layout) ‚ñë‚ñë‚ñë -->
  <section id="page-inventory" class="page">

    <h2>Inventory</h2>

    <div class="filter-row">
      <input type="text" id="inventorySearch" placeholder="Search inventory‚Ä¶"/>
    </div>

    <div id="inventoryList" class="inventory-list"></div>

  </section>

  <!-- ‚ñë‚ñë‚ñë PAGE: SETTINGS ‚ñë‚ñë‚ñë -->
  <section id="page-settings" class="page">

    <h2>Settings</h2>

    <div class="card">
      <h3>Tons</h3>
      <button id="btnResetTons" class="secondary-btn full">Reset Tons</button>
    </div>

    <div class="card">
      <h3>Theme</h3>
      <label class="switch-row">
        <span>Light Mode</span>
        <input id="toggleTheme" type="checkbox"/>
      </label>
    </div>

    <div class="card">
      <h3>Data</h3>
      <button id="btnExportData" class="secondary-btn full">Export Parts JSON</button>
      <button id="btnResetAll" class="danger-btn full">Reset ALL Data</button>
    </div>

    <div class="card">
      <h3>About</h3>
      <p class="muted">PM Tracker v7 Final Build</p>
    </div>

  </section>

</main>

<!-- ‚ñë‚ñë‚ñë ADD / EDIT PART MODAL ‚ñë‚ñë‚ñë -->
<div id="partModal" class="modal hidden">
  <div class="modal-bg"></div>
  <div class="modal-box">

    <h3 id="modalTitle">Add Part</h3>

    <label>Category</label>
    <select id="partCategory"></select>

    <label>Part Name</label>
    <input id="partName" type="text"/>

    <label>Section / Location</label>
    <input id="partSection" type="text"/>

    <label>Last Maintenance Date</label>
    <input id="partDate" type="date"/>

    <button id="modalMoreBtn" class="small-link">More Options ‚ñº</button>

    <div id="moreFields" class="hidden">

      <label>Days Interval</label>
      <input id="partDays" type="number"/>

      <label>Last Ton Reading</label>
      <input id="partLastTons" type="number"/>

      <label>Ton Interval</label>
      <input id="partTonInterval" type="number"/>

      <label>Notes</label>
      <textarea id="partNotes"></textarea>

    </div>

    <div class="modal-actions">
      <button id="btnSavePart" class="primary-btn">Save</button>
      <button id="btnCancelPart" class="secondary-btn">Cancel</button>
    </div>

  </div>
</div>

<!-- ‚ñë‚ñë‚ñë BOTTOM NAV (Rounded) ‚ñë‚ñë‚ñë -->
<nav class="bottom-nav">
  <button class="nav-pill active" data-page="page-dashboard">Dashboard</button>
  <button class="nav-pill" data-page="page-parts">Parts</button>
  <button class="nav-pill" data-page="page-inventory">Inventory</button>
  <button class="nav-pill" data-page="page-settings">Settings</button>
</nav>

<script src="inventory.js"></script>
<script src="script.js"></script>

</body>
</html>
