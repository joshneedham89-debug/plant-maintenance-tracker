/* ---------------------------------------------------
   Global Theme
--------------------------------------------------- */
:root{
  --bg:#f2f3f4;
  --card:#fff;
  --text:#111;
  --muted:#666;
  --green:#1f7a3b;
  --green2:#2e9b4f;
  --danger:#c0392b;
  --warn:#f39c12;
  --shadow: 0 6px 18px rgba(0,0,0,0.08);
  --radius: 16px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}
.app{
  max-width: 760px;
  margin: 0 auto;
  padding: 14px 14px 92px;
}

.section-title{
  margin: 6px 2px 12px;
  font-size: 22px;
  font-weight: 900;
}

.card{
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 14px;
  margin: 12px 0;
}

label{
  display:block;
  font-size: 13px;
  font-weight: 800;
  margin: 10px 0 6px;
  color: var(--muted);
}

input, select{
  width:100%;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.15);
  background:#fff;
  font-size: 16px;
}

.result{ margin-top: 10px; font-size: 16px; }

.full{ width:100%; }

.primary-btn, .secondary-btn, .danger-btn, .ghost-btn{
  border: 0;
  border-radius: 14px;
  padding: 12px 14px;
  font-size: 16px;
  font-weight: 900;
  cursor:pointer;
  margin-top: 10px;
}

.primary-btn{ background: var(--green); color:#fff; }
.secondary-btn{ background: #e9f5ee; color: var(--green); border: 1px solid rgba(31,122,59,0.25); }
.danger-btn{ background: var(--danger); color:#fff; }
.ghost-btn{ background: transparent; border: 1px solid rgba(0,0,0,0.15); }

.hidden{ display:none !important; }

.stats-bar{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}
.stat-card{
  background:#fff;
  border-radius: 14px;
  padding: 10px;
  box-shadow: var(--shadow);
  text-align:center;
}
.stat-label{ font-size: 12px; font-weight: 900; color: var(--muted); }
.stat-value{ font-size: 22px; font-weight: 1000; }
.stat-due .stat-value{ color: var(--warn); }
.stat-over .stat-value{ color: var(--danger); }
.stat-pm .stat-value{ color: var(--green); }

.bottom-nav{
  position: fixed;
  left:0; right:0; bottom:0;
  background: #fff;
  border-top: 1px solid rgba(0,0,0,0.1);
  display:flex;
  justify-content: space-around;
  padding: 8px 6px;
  z-index: 5;
}
.nav-btn{
  border:0;
  background: transparent;
  font-weight: 900;
  font-size: 13px;
  padding: 8px 8px;
  border-radius: 12px;
  cursor:pointer;
  color: #333;
}
.nav-btn.active{
  background: #e9f5ee;
  color: var(--green);
}

.screen{ display:none; }
.screen.active{ display:block; }

.problems-header-row{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 10px;
}
.part-meta{
  font-size: 13px;
  color: var(--muted);
  margin-top: 8px;
}

.photo-preview{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin-top: 10px;
}
.photo-preview img{
  width:100%;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,0.12);
}

.file-input-hidden{ display:none; }

.panel-overlay{
  position: fixed;
  inset:0;
  background: rgba(0,0,0,0.45);
  display:flex;
  justify-content:center;
  align-items:flex-end;
  z-index: 20;
}
.slide-panel{
  background: #fff;
  width: 100%;
  max-width: 760px;
  border-radius: 22px 22px 0 0;
  transform: translateY(100%);
  transition: transform 250ms ease;
  max-height: 92vh;
  overflow:auto;
}
.slide-panel.show{ transform: translateY(0); }

.slide-panel-header{
  display:flex;
  justify-content: space-between;
  align-items:center;
  padding: 14px 14px 0;
}
.slide-panel-body{
  padding: 12px 14px 16px;
}
.close-btn{
  border:0;
  background: transparent;
  font-size: 18px;
  font-weight: 900;
  cursor:pointer;
}
.panel-footer{ margin-top: 12px; }

.subheading{
  margin: 12px 0 6px;
  font-size: 14px;
  font-weight: 1000;
}

.problem-filters, .pm-filters{
  display:flex;
  gap: 8px;
  margin: 10px 0;
  flex-wrap: wrap;
}
.prob-filter, .pm-filter{
  border: 1px solid rgba(0,0,0,0.15);
  background: #fff;
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 900;
  cursor:pointer;
}
.prob-filter.active, .pm-filter.active{
  background: #e9f5ee;
  border-color: rgba(31,122,59,0.35);
  color: var(--green);
}

.problems-list, .pms-list{
  display:flex;
  flex-direction: column;
  gap: 10px;
}

.pm-card{
  background:#fff;
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.12);
  padding: 12px;
}
.pm-card-top{
  display:flex;
  justify-content: space-between;
  align-items:flex-start;
  gap: 12px;
}
.pm-title{
  font-weight: 1000;
  font-size: 16px;
}
.pm-sub{
  font-size: 12px;
  color: var(--muted);
  margin-top: 2px;
}
.pm-pill{
  font-weight: 1000;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  white-space: nowrap;
}
.pm-due{ background: #fff3e0; color: #c77700; border: 1px solid rgba(199,119,0,0.25); }
.pm-done{ background: #e8f5e9; color: var(--green); border: 1px solid rgba(31,122,59,0.25); }

.pm-actions{
  display:flex;
  gap: 8px;
  margin-top: 10px;
  flex-wrap: wrap;
}
.pm-actions button{
  border: 1px solid rgba(0,0,0,0.15);
  background: #fff;
  border-radius: 12px;
  padding: 10px 12px;
  font-weight: 1000;
  cursor:pointer;
}

/* Lightbox */
.lightbox{
  position: fixed;
  inset:0;
  background: rgba(0,0,0,0.85);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index: 50;
}
.lightbox img{
  width: 92%;
  max-width: 760px;
  border-radius: 18px;
}
.lightbox.hidden{ display:none; }

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 78px;
  background: #111;
  color: #fff;
  padding: 12px 14px;
  border-radius: 14px;
  font-weight: 900;
  z-index: 100;
  opacity: 0;
  transition: opacity 200ms ease;
}
.toast.show{ opacity: 1; }

/* ===================================================
   Phase 3.4 â€” PM Tab + Roles (Additive Only)
=================================================== */
.pm-due-count {
  margin: 8px 0 10px;
  font-weight: 800;
}
.pm-checklist-wrap { margin: 10px 0 12px; }
.pm-checklist-list { display: flex; flex-direction: column; gap: 8px; }
.role-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px 12px;
  margin: 10px 0;
}
.check-row {
  display: flex;
  align-items: center;
  gap: 10px;
}
.check-row.disabled { opacity: 0.6; }
.textarea {
  width: 100%;
  padding: 10px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,0.15);
  background: #fff;
}
.admin-panel {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px dashed rgba(0,0,0,0.25);
}
.select.disabled { opacity: 0.7; }
button.disabled { opacity: 0.6; }
.pm-area-title{
  font-weight: 1000;
  margin: 10px 2px 6px;
  color: #222;
}
.pm-area-group{ margin-bottom: 12px; }
